{"version":3,"sources":["components/ui/Button/Button.jsx","components/ui/Layout/Layout.jsx","components/ui/Container/Container.jsx","components/ui/Input/Input.jsx","components/features/LoginForm/LoginForm.jsx","components/ui/Textarea/Textarea.jsx","components/ui/Message/Message.jsx","components/features/CompleteCommand/CompleteCommand.jsx","components/features/RateCommand/RateCommand.jsx","utils/getWeekDaysFromCurrent.js","components/features/DateCommand/DateCommand.jsx","components/features/MapCommand/MapCommand.jsx","constants/commandSchema.js","components/features/Command/Command.jsx","constants/events.js","components/features/Chat/Chat.jsx","ChatApp.js","index.js","components/ui/Button/Button.module.css","components/ui/Message/Message.module.css","components/features/Chat/Chat.module.css","components/ui/Input/Input.module.css","components/features/LoginForm/LoginForm.module.css","components/ui/Container/Container.module.css","components/ui/Textarea/Textarea.module.css","components/features/CompleteCommand/CompleteCommand.module.css","components/features/RateCommand/RateCommand.module.css","components/features/DateCommand/DateCommand.module.css","components/ui/Layout/Layout.module.css","components/features/MapCommand/MapCommand.module.css","components/features/Command/Command.module.css"],"names":["Button","_ref","_cn","children","onClick","type","theme","disabled","smallOnPhone","react_default","a","createElement","className","cn","s","button","Object","defineProperty","concat","defaultProps","noop","Layout","isAuth","onLogout","wrapper","header","title","logoutButton","Button_Button","content","inner","Container","Input","id","name","label","placeholder","value","onChange","htmlFor","input","LoginForm","state","login","password","error","setError","_this","setState","handleChange","event","target","handleSubmit","preventDefault","_this$state","isEmpty","props","onLogin","_this$state2","this","onSubmit","form","formRow","Input_Input","buttonWrapper","PureComponent","Textarea","textarea","Message","text","author","incoming","message","message_incoming","CompleteCommand","data","onCancel","handleCancel","map","i","isLogOutButton","key","RateCommand","_ref$data","slicedToArray","startRate","endRate","handleClick","stars","push","renderStars","weekDays","getWeekDaysFromCurrent","currentDate","dayIndex","Date","getDay","currentDateIndex","start","slice","end","DateCommand","daysFromCurrent","day","MAP_STYLES","height","width","Marker","marker","MapCommand","defaultZoom","style","google_map_react_lib_default","bootstrapURLKeys","process","REACT_APP_GOOGLE_API_KEY","defaultCenter","MapCommand_Marker","lat","lng","commandSchema","complete","component","rate","date","EMPTY_HANDLERS","Command","onSelect","Component","Fragment","assign","getHandlers","MESSAGE","COMMAND","Chat","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","scrollToBottom","messagesContainer","current","scrollTop","scrollHeight","updateMessages","messages","toConsumableArray","objectSpread","uuidv4","clearMessageInput","handleMessageChange","createMessage","user","addMessage","socket","newMessage","emit","handleMessageSend","handleCommandClick","handleSelectCommand","filter","renderMessages","_this$props","description","command","Message_Message","features_Command_Command","React","createRef","on","removeAllListeners","ref","formWrapper","controls","Textarea_Textarea","submitButton","luckyBtn","socketUrl","ChatApp","handleLogin","io","handleLogout","close","Layout_Layout","Container_Container","features_Chat_Chat","features_LoginForm_LoginForm","ReactDOM","render","src_ChatApp","document","getElementById","module","exports","button_theme_default","button_theme_red","button_theme_gray","button_smallOnPhone","fadeIn"],"mappings":"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","file":"static/js/main.d698935b.chunk.js","sourcesContent":["import React from 'react';\nimport pt from 'prop-types';\nimport cn from 'classnames';\n\n// Utils\nimport noop from '@tinkoff/utils/function/noop';\n\nimport s from './Button.module.css';\n\nfunction Button({ children, onClick, type, theme, disabled, smallOnPhone }) {\n    return <button\n        className={cn(s.button, {\n            [s[`button_theme_${theme}`]]: true,\n            [s['button_smallOnPhone']]: smallOnPhone,\n        })}\n        type={type}\n        onClick={onClick}\n        disabled={disabled}\n    >\n        {children}\n    </button>;\n}\n\nButton.propTypes = {\n    children: pt.oneOfType([pt.string, pt.number]),\n    onClick: pt.func,\n    type: pt.string,\n    theme: pt.oneOf(['default', 'red', 'gray']),\n    disabled: pt.bool,\n};\n\nButton.defaultProps = {\n    children: '',\n    onClick: noop,\n    type: 'button',\n    theme: 'default',\n    disabled: false,\n}\n\nexport default Button;","import React from 'react';\nimport pt from 'prop-types';\n\nimport Button from '../Button/Button';\n\nimport s from './Layout.module.css';\n\nfunction Layout({ children, isAuth, onLogout }) {\n    return <div className={s.wrapper}>\n        <div className={s.header}>\n            <h1 className={s.title}>\n                ChatUp\n            </h1>\n            {isAuth && <div className={s.logoutButton}>\n                <Button\n                    theme='gray'\n                    onClick={onLogout}\n                    smallOnPhone\n                >\n                    Log Out\n                </Button>\n            </div>}\n        </div>\n        <div className={s.content}>\n            <div className={s.inner}>\n                {children}\n            </div>\n        </div>\n    </div>;\n};\n\nLayout.propTypes = {\n    children: pt.node.isRequired,\n    onLogout: pt.func.isRequired,\n    isAuth: pt.bool,\n};\n\nLayout.defaultProps = {\n    isAuth: false,\n};\n\nexport default Layout;","import React from 'react';\nimport pt from 'prop-types';\n\nimport s from './Container.module.css';\n\nfunction Container({ children }) {\n    return <div className={s.wrapper}>\n        {children}\n    </div>\n}\n\nContainer.propTypes = {\n    children: pt.any,\n};\n\nContainer.defaultProps = {\n    children: null,\n};\n\nexport default Container;\n","import React from 'react';\nimport pt from 'prop-types';\nimport noop from '@tinkoff/utils/function/noop';\nimport s from './Input.module.css';\n\nfunction Input({ id, name, label, placeholder, type, value, onChange }) {\n    return <label htmlFor={id}>\n        {label && <span className={s.label}>\n            {label}\n        </span>}\n        <input\n            className={s.input}\n            type={type}\n            id={id}\n            name={name}\n            value={value}\n            onChange={onChange}\n            placeholder={placeholder}\n        />\n    </label>;\n};\n\nInput.propTypes = {\n    id: pt.string.isRequired,\n    name: pt.string.isRequired,\n    label: pt.string,\n    placeholder: pt.string,\n    type: pt.string,\n    value: pt.string,\n    onChange: pt.func,\n}\n\nInput.defaultProps = {\n    label: '',\n    placeholder: '',\n    type: 'text',\n    value: '',\n    onChange: noop,\n}\n\nexport default Input;","import React, { PureComponent } from 'react';\nimport pt from 'prop-types';\n\n// Utils\nimport isEmpty from '@tinkoff/utils/is/empty';\n\n// Components\nimport Input from '../../ui/Input/Input';\nimport Button from '../../ui/Button/Button';\n\n// Styles\nimport s from './LoginForm.module.css';\n\nclass LoginForm extends PureComponent {\n    static propTypes = {\n        onLogin: pt.func.isRequired,\n    };\n\n    state = {\n        login: '',\n        password: '',\n        error: '',\n    };\n\n    setError = (error) => this.setState({ error });\n\n    handleChange = (event) => {\n        const name = event.target.name;\n        const value = event.target.value;\n\n        this.setState({\n            error: '',\n            [name]: value,\n        });\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n\n        const { login, password } = this.state;\n\n        if (isEmpty(login) || isEmpty(password)) {\n            return this.setError('Fill in login and password!');\n        }\n        \n        this.setError('');\n        this.props.onLogin({\n            password,\n            name: login,\n        });\n    }\n\n    render() {\n        const { login, password, error } = this.state;\n\n        return <div className={s.wrapper}>\n            <h2 className={s.title}>Log In To ChatUp!</h2>\n            <form onSubmit={this.handleSubmit}>\n                <div className={s.form}>\n                    <div className={s.formRow}>\n                        <Input\n                            id='login'\n                            label='Login:'\n                            name='login'\n                            value={login}\n                            onChange={this.handleChange}\n                            placeholder='Love'\n                        />\n                    </div>\n                    <div className={s.formRow}>\n                        <Input\n                            id='password'\n                            type='password'\n                            label='Password:'\n                            name='password'\n                            value={password}\n                            onChange={this.handleChange}\n                            placeholder='0tT0N0V@'\n                        />\n                    </div>\n                </div>\n                <div className={s.buttonWrapper}>\n                    <Button type='submit'>Log In</Button>\n                    {error && <div className={s.error}>{error}</div>}\n                </div>\n            </form>\n        </div>;\n    }\n}\n\nexport default LoginForm;","import React from 'react';\nimport pt from 'prop-types';\nimport noop from '@tinkoff/utils/function/noop';\nimport s from './Textarea.module.css';\n\nfunction Textarea({ name, placeholder, value, onChange }) {\n    return <textarea\n            className={s.textarea}\n            name={name}\n            value={value}\n            onChange={onChange}\n            placeholder={placeholder}\n        />;\n};\n\nTextarea.propTypes = {\n    name: pt.string.isRequired,\n    label: pt.string,\n    placeholder: pt.string,\n    value: pt.string,\n    onChange: pt.func,\n    rows: pt.number,\n}\n\nTextarea.defaultProps = {\n    label: '',\n    placeholder: '',\n    value: '',\n    onChange: noop,\n}\n\nexport default Textarea;","import React from 'react';\nimport pt from 'prop-types';\nimport cn from 'classnames';\n\nimport s from './Message.module.css';\n\nfunction Message({ text, author, incoming }) {\n    return <div className={cn(s.message, { [s.message_incoming]: incoming })}>\n        <div className={s.author}>{author}:</div>\n        {text}\n    </div>;\n};\n\nMessage.propTypes = {\n    text: pt.oneOfType([pt.string, pt.number]).isRequired,\n    author: pt.string.isRequired,\n    incoming: pt.bool,\n};\n\nMessage.defaultProps = {\n    incoming: false,\n};\n\nexport default Message;","import React from 'react'\nimport pt from 'prop-types';\n\nimport Button from '../../ui/Button/Button';\n\nimport s from './CompleteCommand.module.css';\n\nconst CompleteCommand = ({ data, onSubmit, onCancel }) => {\n  const handleCancel = (value) => () => {\n    onCancel(value);\n  }\n\n  return data.map((value, i) => {\n      const isLogOutButton = i === 0;\n\n      return <div key={i} className={s.button}>\n          <Button\n            theme={isLogOutButton ? 'red' : 'default'}\n            onClick={isLogOutButton ? onSubmit : handleCancel(value)}\n          >\n            {value}\n          </Button>\n      </div>;\n    });\n}\n\nCompleteCommand.propTypes = {\n  data: pt.array.isRequired,\n  onSubmit: pt.func.isRequired,\n  onCancel: pt.func.isRequired,\n}\n\nexport default  CompleteCommand","import React from 'react';\nimport pt from 'prop-types';\n\nimport Button from '../../ui/Button/Button';\n\nimport s from './RateCommand.module.css';\n\nconst RateCommand = ({ data: [startRate, endRate], onClick }) => {\n    const handleClick = (value) => () => {\n        onClick(value);\n    }\n\n    const renderStars = () => {\n        const stars = [];\n\n        for(let i = startRate; i <= endRate; i++) {\n            stars.push(<div key={i} className={s.button}>\n                <Button onClick={handleClick(i)}>{i}</Button>\n            </div>);\n        }\n\n        return stars;\n    }\n\n    return renderStars();\n}\n\nRateCommand.propTypes = {\n    data: pt.array.isRequired,\n    onClick: pt.func.isRequired,\n}\n\nexport default RateCommand;","const SUNDAY_INDEX = 0;\nconst MONDAY_INDEX = 1;\nconst SATURDAY_INDEX = 6;\n\nexport const weekDays = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n\n/**\n *  Returns week days starting and including the supplying date\n * @param {string} currentDate - current date\n * @returns {Array}\n */\nconst getWeekDaysFromCurrent = (currentDate) => {\n    let dayIndex = new Date(currentDate).getDay();\n\n    if (dayIndex === SUNDAY_INDEX || dayIndex === SATURDAY_INDEX) {\n        dayIndex = MONDAY_INDEX;\n    }\n\n    const currentDateIndex = dayIndex - 1;\n\n    const start = weekDays.slice(currentDateIndex);\n    const end = weekDays.slice(0, currentDateIndex);\n    \n    return start.concat(end);\n};\n\nexport default getWeekDaysFromCurrent;","import React from 'react';\nimport pt from 'prop-types';\n\nimport Button from '../../ui/Button/Button';\nimport getWeekDaysFromCurrent from '../../../utils/getWeekDaysFromCurrent';\n\nimport s from './DateCommand.module.css';\n\nconst DateCommand = ({ data, onClick }) => {\n    const daysFromCurrent = getWeekDaysFromCurrent(data);\n\n    const handleClick = (day) => () => {\n        onClick(day);\n    }\n\n    return daysFromCurrent.map((day) =>\n        <div key={day} className={s.button}>\n            <Button onClick={handleClick(day)}>{day}</Button>\n        </div>);\n}\n\nDateCommand.propTypes = {\n    data: pt.string.isRequired,\n    onClick: pt.func.isRequired,\n}\n\nexport default DateCommand;","import React from 'react';\nimport pt from 'prop-types';\n\nimport GoogleMapReact from 'google-map-react';\n\nimport s from './MapCommand.module.css'\n\nconst MAP_STYLES = {\n    height: '200px',\n    width: '100%',\n};\n\nconst Marker = () => <div className={s.marker} />;\n\nconst MapCommand = ({ data, defaultZoom }) => {\n    return <div style={MAP_STYLES}>\n        <GoogleMapReact\n            bootstrapURLKeys={{ key: process.env.REACT_APP_GOOGLE_API_KEY || '' }}\n            defaultCenter={data}\n            defaultZoom={defaultZoom}\n        >\n            <Marker\n                lat={data.lat}\n                lng={data.lng}\n            />\n        </GoogleMapReact>\n    </div>;\n}\n\nMapCommand.propTypes = {\n    data: pt.object.isRequired,\n    defaultZoom: pt.number,\n}\n\nMapCommand.defaultProps = {\n    defaultZoom: 11,\n}\n\nexport default MapCommand;","import CompleteCommand from '../components/features/CompleteCommand/CompleteCommand';\nimport RateCommand from '../components/features/RateCommand/RateCommand';\nimport DateCommand from '../components/features/DateCommand/DateCommand';\nimport MapCommand from '../components/features/MapCommand/MapCommand';\n\nexport default {\n    complete: {\n        type: 'complete',\n        title: 'Complete this conversation?',\n        component: CompleteCommand,\n    },\n    rate: {\n        type: 'rate',\n        title: 'Please rate your experience:',\n        component: RateCommand,\n    },\n    date: {\n        type: 'date',\n        title: 'Pick a date:',\n        component: DateCommand,\n    },\n    map: {\n        type: 'map',\n        title: 'Here we are:',\n        component: MapCommand,\n    },\n};\n","import React from 'react';\nimport pt from 'prop-types';\n\nimport commandSchema from '../../../constants/commandSchema';\n\nimport noop from '@tinkoff/utils/function/noop';\n\nimport s from './Command.module.css';\n\nconst EMPTY_HANDLERS = {};\n\nconst Command = ({ type, data, onSelect, onLogout }) => {\n    const Component = commandSchema[type].component;\n    const { title } = commandSchema[type];\n\n    function getHandlers() {\n        switch (type) {\n            case commandSchema.date.type:\n            case commandSchema.rate.type:\n                return ({\n                    onClick: onSelect,\n                });\n                \n            case commandSchema.complete.type:\n                return ({\n                    onCancel: onSelect,\n                    onSubmit: onLogout,\n                });\n    \n            default:\n                return EMPTY_HANDLERS;\n        }\n    }\n\n    return <>\n        {title && <h3 className={s.title}>{title}</h3>}\n        <Component {...getHandlers()} data={data} />\n    </>;\n};\n\nCommand.propTypes = {\n    type: pt.string.isRequired,\n    data: pt.any.isRequired,\n    onSelect: pt.func,\n    onLogout: pt.func,\n};\n\nCommand.defaultProps = {\n    title: '',\n    onSelect: noop,\n    onLogout: noop,\n};\n\nexport default Command;","const MESSAGE = 'message';\nconst COMMAND ='command';\n\nexport {\n    MESSAGE,\n    COMMAND,\n};","import React, { PureComponent } from 'react';\nimport pt from 'prop-types';\n\n// Utils\nimport uuidv4 from 'uuid/v4';\nimport isEmpty from '@tinkoff/utils/is/empty';\n\n// Components\nimport Button from '../../ui/Button/Button';\nimport Textarea from '../../ui/Textarea/Textarea';\nimport Message from '../../ui/Message/Message';\nimport Command from '../Command/Command';\n\n// Constants\nimport { MESSAGE, COMMAND } from '../../../constants/events';\n\n// Styles\nimport s from './Chat.module.css';\n\nclass Chat extends PureComponent {\n    static propTypes = {\n        user: pt.object.isRequired,\n        socket: pt.object.isRequired,\n        onLogout: pt.func.isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            message: '',\n            messages: [],\n        };\n\n        this.messagesContainer = React.createRef();\n    }\n\n    componentDidMount() {\n        const { socket } = this.props;\n\n        socket.on(MESSAGE, this.updateMessages)\n        socket.on(COMMAND, this.updateMessages)\n    }\n\n    scrollToBottom = () => {\n        if (this.messagesContainer && this.messagesContainer.current) {\n            this.messagesContainer.current.scrollTop = this.messagesContainer.current.scrollHeight;\n        }\n    }\n\n    updateMessages = (message) => {\n        this.setState((state) => ({\n            messages: [...state.messages, { ...message, id: uuidv4()}],\n        }));\n        this.scrollToBottom();\n    }\n\n    clearMessageInput = () => this.setState({\n        message: ''\n    });\n\n    handleMessageChange = (event) => {\n        this.setState({\n            message: event.target.value,\n        });\n    }\n\n    createMessage = (message) => {\n        const { user: { name } } = this.props;\n\n        return ({\n            message,\n            author: name,\n        });\n    }\n\n    addMessage = (message) => {\n        const { socket } = this.props;   \n        const newMessage = this.createMessage(message);\n\n        this.updateMessages(newMessage);\n        socket.emit(MESSAGE, newMessage);\n    }\n    \n    handleMessageSend = (event) => {\n        event.preventDefault();\n\n        const { message } = this.state;\n\n        if (!isEmpty(message)) {    \n            this.addMessage(message)\n            this.clearMessageInput();\n        }\n    }\n\n    handleCommandClick = () => {\n        const { socket } = this.props;\n\n        socket.emit(COMMAND);\n    }\n\n    handleSelectCommand = (id) => (message) => {\n        const { messages } = this.state;\n\n        this.setState({\n            messages: messages.filter((message) => message.id !== id)\n        }, () => {\n            this.addMessage(message)\n        });\n    }\n\n    renderMessages = () => {\n        const { user: { name }, onLogout } = this.props;\n        const { messages } = this.state;\n\n        if (isEmpty(messages)) {\n            return <span className={s.description}>Start conversation...</span>;\n        }\n\n        return messages.map(({ author, message, command, id }) => {    \n            if (!isEmpty(message)) {\n                return <div key={id} className={s.message}>\n                    <Message\n                        text={message}\n                        author={author}\n                        incoming={author !== name}\n                    />\n                </div>;\n            }\n\n            if (!isEmpty(command)) {\n                const { type, data } = command;\n\n                return <div key={id} className={s.message}>\n                    <Command\n                        type={type}\n                        data={data}\n                        onSelect={this.handleSelectCommand(id)}\n                        onLogout={onLogout}\n                    />\n                </div>;\n            }\n\n            return null;\n        });\n    }\n\n    componentWillUnmount() {\n        const { socket } = this.props;\n\n        socket.removeAllListeners();\n        this.messagesContainer = null;\n    }\n\n    render() {\n        const { message } = this.state;\n\n        return <div className={s.wrapper}>\n            <div className={s.messages} ref={this.messagesContainer}>\n                {this.renderMessages()}\n            </div>\n            <div className={s.formWrapper}>\n                <form onSubmit={this.handleMessageSend}>\n                    <div className={s.controls}>\n                        <Textarea\n                            type='text'\n                            id='message'\n                            name='message'\n                            value={message}\n                            onChange={this.handleMessageChange}\n                            placeholder='Message...'\n                        />\n                        <button type='submit' disabled={!message} className={s.submitButton}>></button>\n                    </div>\n                    <div className={s.luckyBtn}>\n                        <Button onClick={this.handleCommandClick}>\"I'm Feeling Lucky\"</Button>\n                    </div>\n                </form>\n            </div>\n        </div>;\n    }\n}\n\nexport default Chat;\n","import React, { Component } from 'react';\nimport io from 'socket.io-client';\n\n// Components\nimport Layout from '../src/components/ui/Layout/Layout';\nimport Container from '../src/components/ui/Container/Container';\nimport LoginForm from '../src/components/features/LoginForm/LoginForm';\nimport Chat from '../src/components/features/Chat/Chat';\n\n// Utils\nimport isEmpty from '@tinkoff/utils/is/empty';\n\nconst socketUrl = process.env.REACT_APP_SOCKET_URL || \"https://demo-chat-server.on.ag/\";\n\nclass ChatApp extends Component {\n  state = {\n    socket: null,\n    user: null,\n  };\n\n  handleLogin = (user) => {\n    this.setState({\n      user,\n      socket: io(socketUrl)\n    })\n  }\n\n  handleLogout = () => {\n    const { socket } = this.state;\n\n    socket.close();\n    this.setState({\n      user: null,\n      socket: null,\n    });\n  }\n\n  render() {\n    const { socket, user } = this.state;\n    const isAuth = !isEmpty(user);\n\n    return <Layout isAuth={isAuth} onLogout={this.handleLogout}>\n      <Container>\n        {isAuth ? \n          <Chat socket={socket} user={user} onLogout={this.handleLogout} /> :\n          <LoginForm onLogin={this.handleLogin} />\n        }\n      </Container>\n    </Layout>;\n  }\n}\n\nexport default ChatApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ChatApp from './ChatApp';\nimport './globals/reset.css';\nimport './globals/global.css';\n\nReactDOM.render(<ChatApp />, document.getElementById('root'));","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1DuDf\",\"button_theme_default\":\"Button_button_theme_default__1kEsI\",\"button_theme_red\":\"Button_button_theme_red__12ne8\",\"button_theme_gray\":\"Button_button_theme_gray__8xU26\",\"button_smallOnPhone\":\"Button_button_smallOnPhone__3kf3E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__1lJPV\",\"message_incoming\":\"Message_message_incoming__3e5_B\",\"author\":\"Message_author__Qogzt\",\"fadeIn\":\"Message_fadeIn__3rjwE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Chat_wrapper__1TDJ6\",\"messages\":\"Chat_messages__3hPYy\",\"description\":\"Chat_description__1ibM8\",\"message\":\"Chat_message__1Rprk\",\"fadeIn\":\"Chat_fadeIn__3uNbO\",\"formWrapper\":\"Chat_formWrapper__mOEJO\",\"controls\":\"Chat_controls__3AJv6\",\"submitButton\":\"Chat_submitButton__3cwHA\",\"luckyBtn\":\"Chat_luckyBtn__GMb4K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Input_label__3x9b9\",\"input\":\"Input_input__b7kk-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"LoginForm_wrapper__3ahXj\",\"title\":\"LoginForm_title__3pzcL\",\"form\":\"LoginForm_form__sfLfb\",\"formRow\":\"LoginForm_formRow__2YQzO\",\"error\":\"LoginForm_error__3tfUx\",\"buttonWrapper\":\"LoginForm_buttonWrapper__OI7fq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Container_wrapper__2xd3e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textarea\":\"Textarea_textarea__1_y4f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"CompleteCommand_button__2xS46\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"RateCommand_button__1mWFq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"DateCommand_button__2xevk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Layout_wrapper__3Wr_O\",\"header\":\"Layout_header__1OV_i\",\"title\":\"Layout_title__3xdK-\",\"logoutButton\":\"Layout_logoutButton__iheCU\",\"content\":\"Layout_content__3pIaG\",\"inner\":\"Layout_inner__1Rrgj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"marker\":\"MapCommand_marker__1OLIF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Command_title__UBUvX\"};"],"sourceRoot":""}